#+TITLE: Cloud-Native Movie Review Platform
#+AUTHOR: Twilight4

* Table of Contents :toc:
- [[#overview][Overview]]
  - [[#full-project-folder-structure][Full Project Folder Structure]]
  - [[#full-architecture-diagram][Full Architecture Diagram]]
  - [[#technologies-used][Technologies Used]]
- [[#steps-to-deploy-wip][Steps to Deploy (WIP)]]
  - [[#1-provision-cloud-infrastructure][1. Provision Cloud Infrastructure]]
  - [[#2-apply-helm-chart][2. Apply Helm Chart]]
  - [[#3-setup-gitops-argocd][3. Setup GitOps (ArgoCD)]]

* Overview
This project outlines every stage of the DevOps lifecycle, the tools and how the pieces connect. Everything fully automated end-to-end.

This project demonstrates a full production-grade DevOps setup using modern tooling:
- Git / Linux / Networking
- Containerization (Docker)
- Container Orchestration (Kubernetes + Helm)
- Cloud Technologies (GCP - GKE, GCR, PostgreSQL)
- Infrastructure provisioning (Terraform)
- CI/CD pipelines (Github Actions)
- GitOps (ArgoCD)
- Monitoring & Logging (Prometheus, Grafana)
- Security

** Full Project Folder Structure
#+begin_src shell
full-devops-cycle-project/
├── app/                → Application source code + Dockerfile
│   ├── tests/
│   │   └── movies.test.js
│   ├── src/
│   │    ├── routes/
│   │    │   └── movies.js
│   │    ├── server.js
│   │    └── app.js
│   ├── package.json
│   └── README.md
│
├── k8s/                → Deployment manifests
│
├── helm/               → Helm chart for deployment
│
├── terraform/          → Infrastructure as Code (GCP)
│
├── monitoring/         → Node + monitoring configuration
│   ├── grafana-dashboards/
│   └── prometheus/
│
├── .github/            → CI/CD pipelines
│   └── workflows/
│
└── README.org
#+end_src

** Full Architecture Diagram
#+begin_src shell
                                    ┌──────────────────────────┐
                                    │        Developers        │
                                    └───────────┬──────────────┘
                                                │ git push
                                                ▼
                                      ┌────────────────────┐
                                      │     GitHub Repo    │
                                      └─────────┬──────────┘
                                                │ triggers
                                                ▼
                                  ┌────────────────────────────────┐
                                  │       GitHub Actions CI/CD     │
                                  └─────────────┬──────────────────┘
                                                │
                                                ▼
                                       ┌──────────────────┐
                                       │ Build Docker Img │
                                       └──────────────────┘
                                                │
                                                ▼ push
                                      ┌──────────────────────┐
                                      │ GCR (Artifact Reg.)  │
                                      └─────────┬────────────┘
                                                │
                                                ▼
                                ┌─────────────────────────────────┐
                                │  GitOps Repo (Helm / Manifests) │
                                └───────────────┬─────────────────┘
                                                │ watched
                                                ▼
                                ┌─────────────────────────────────┐
                                │         ArgoCD (GitOps)         │
                                └───────────────┬─────────────────┘
                                                │ deploys
                                                ▼

                      ┌──────────────────────────────────────────────────────┐
                      │                      GKE Cluster                     │
                      │                                                      │
                      │   ┌────────────┐    ┌─────────────────────────────┐  │
                      │   │ Deployment │--▶│  Horizontal Pod Autoscaler  │  │
                      │   └────────────┘    └─────────────────────────────┘  │
                      │          │                 │                         │
                      │          ▼                 ▼                         │
                      │   ┌────────────┐      ┌──────────────┐               │
                      │   │   Service  │◀──▶│   Ingress    │               │
                      │   └────────────┘      └──────────────┘               │
                      │          │                                           │
                      │          ▼                                           │
                      │   ┌────────────┐                                     │
                      │   │    Pods    │                                     │
                      │   └────────────┘                                     │
                      │                                                      │
                      └─────────────────────────┬────────────────────────────┘
                                                │
                                                │
                                                ▼
                                   ┌───────────────────────────┐
                                   │ Cloud SQL (PostgreSQL)    │
                                   └────────────┬──────────────┘
                                                │
                                                │
                                                ▼
                                   ┌──────────────────────────┐
                                   │ Monitoring Stack on GKE  │
                                   │ - Prometheus             │
                                   │ - Grafana                │
                                   └──────────────────────────┘

#+end_src

** Technologies Used
*** Containerization
- Dockerfile (multi-stage)
- Image optimization

*** Kubernetes
- Deployments, Services, Ingress
- ConfigMaps and Secrets
- Horizontal Pod Autoscaler (HPA)
- Namespaces and environment separation
- Helm chart packaging and templating

*** Cloud Infrastructure
Using Terraform to provision GCP infrastructure:
- GKE cluster
- Cloud SQL PostgreSQL
- VPC, subnets, and firewall rules
- Artifact Registry (GCR)
- IAM roles and service accounts
- Cloud Storage buckets

*** CI/CD
- Build, test, lint pipelines using GitHub Actions
- Docker image building and pushing to GCR
- Automated application deployment pipeline
- Environment-specific deployments (dev, staging, prod)

*** GitOps
- Automated Kubernetes deployments with ArgoCD
- Declarative Helm charts
- Git-driven versioning and rollbacks

*** Monitoring and Logging
- Prometheus: metrics
- Grafana: dashboards

*** Security
- Terraform IAM least-privilege model
- Kubernetes Secret Management

* Steps to Deploy (WIP)
** 1. Provision Cloud Infrastructure

** 2. Apply Helm Chart

** 3. Setup GitOps (ArgoCD)

